<!DOCTYPE html>
<html>
<head>
	<title>sds</title>
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
	#baron,
	#deathray,
	#reginald,
	#newestyork {
		display: none;
	}
</style>
<script type="text/javascript">

//--------------------------------------------------
//--------------------------------------------------
//------------------ people/jobs -------------------
//--------------------------------------------------
//--------------------------------------------------

function prettify(input) {
	var output = Math.round(input * 1000000)/1000000;
	return output;
}

var People = {
	population: 1,
	gatherers: 0
}

var Stuff = {
	leaves: 0
}

$(document).ready(function() {

	$('#gatherer__cover .upclick').on('click', function() {
		if (People.population >= 1) {
			People.gatherers++;
			People.population--;
			$('#gatherers').html(People.gatherers);
			$('#population').html(People.population);
		}
	});
	$('#gatherer__cover .downclick').on('click', function() {
		if (People.gatherers >= 1) {
			People.gatherers--;
			People.population++;
			$('#gatherers').html(People.gatherers);
			$('#population').html(People.population);
		}
	});

});

var peopledoingjobs = setInterval(function() {

	Stuff.leaves += (People.gatherers * 0.1);
	$("#leaves").html(prettify(Stuff.leaves));

}, 1000);

function eatleaves() {
	if (Stuff.leaves >= 1) {
		Stuff.leaves--;
		$("#leaves").html(prettify(Stuff.leaves));
		$('#log').html("You eat some leaves. Mmm, tasty.");
		flash();
	}
}

//--------------------------------------------------
//--------------------------------------------------
//--------------------- items ----------------------
//--------------------------------------------------
//--------------------------------------------------


var inventory = [];
var items = [];

function newitem() {
	var array = ['dagger', 'stick'];
	var chosen = array[Math.floor(Math.random() * array.length)];

	if (chosen == "dagger") {
		items.push({
			"name": "The Bloody Dagger",
			"info": "Covered in dripping blood, this dagger's previous owner was perhaps not a novel peace prize winner."
		});
	}
	if (chosen == "stick") {
		items.push({
			"name": "A Stick",
			"info": "A sturdy, brown coloured stick."
		});
	}
	updateitems();

	$('#log').html("You find " + items[0].name + ".");
	flash();
}

function updateitems() {
	document.getElementById("items").innerHTML = "";
	for (var i = 0; i < items.length; i++) {
		itemsupdate = "<li>" + items[i].name + " <span class='info'>" + items[i].info + "</span></li>";
		document.getElementById("items").innerHTML += itemsupdate;
	}
}


//--------------------------------------------------
//--------------------------------------------------
//--------------------- world ----------------------
//--------------------------------------------------
//--------------------------------------------------

var position = 7;

$(function() {
	$('.lorepage').on("mouseover", function() {
		$(this).removeClass('unseen');
	});

	updateworld();
	$(document).keydown(function(e){
		if (e.keyCode == 37) {
			walkleft();
		}
		if (e.keyCode == 39) {
			walkright();
		}
	});
});

var world = [".","_","_","_","_","_","#","_","_","_","_","_","_","_","_","_","_"];
var newplace = ["g","u","y"];
var rightworld = [];
var leftworld = [];

function walkleft() {
	if (position == 0) {
		//do nothing
	}
	else {
		position--;
		$('#position').html(position);

		rightworld.splice(0, 0, world[16]);
		world.splice(16, 1);

		if (leftworld[0] != undefined) {
			world.splice(0, 0, leftworld[0]);
			leftworld.splice(0, 1);
		}
		else {
			if (position >= 8) {
				var array = ["_",".","$","&"];
				var tile = array[Math.floor(Math.random() * array.length)];
				world.splice(0, 0, tile);
			}
			else {
				var array = [",","."];
				var tile = array[Math.floor(Math.random() * array.length)];
				world.splice(0, 0, tile);
			}
		}
		updateworld();
		slimarray();
		if (Math.random() * 100 <= 2) {
			spawnenemy();
		}
	}
}

function walkright() {
	if (position == 200) {
		//do nothing
	}
	else {
		position++;
		$('#position').html(position);

		leftworld.splice(0, 0, world[0]);
		world.splice(0, 1);

		if (rightworld[0] != undefined) {
			world.splice(16, 0, rightworld[0]);
			rightworld.splice(0, 1);
		}
		else {

			if (newplace[0] != undefined) {
				world.splice(16, 0, newplace[0]);
				newplace.splice(0, 1);
			}
			else {
				if (position <= 192) {
					var array = ["_",".","$","&"];
					var tile = array[Math.floor(Math.random() * array.length)];

					if (world[15] == "_" && Math.random() * 100 <= 40) {
						world.splice(16, 0, "_");
					}
					else if (world[15] == "." && Math.random() * 100 <= 30) {
						world.splice(16, 0, ".");
					}
					else if (world[15] == "$" && Math.random() * 100 <= 20) {
						world.splice(16, 0, "$");
					}
					else if (world[15] == "&" && Math.random() * 100 <= 10) {
						world.splice(16, 0, "&");
					}
					else {
						world.splice(16, 0, tile);
					}
				}
				else {
					var array = [",","."];
					var tile = array[Math.floor(Math.random() * array.length)];
					world.splice(16, 0, tile);
				}
			}

		}
		updateworld();
		slimarray();
		if (Math.random() * 100 <= 2) {
			spawnenemy();
		}
	}
}

function slimarray() {
	if (leftworld.length >= 300) {
		leftworld.pop();
	}
	if (rightworld.length >= 300) {
		rightworld.pop();
	}
}

function updateworld() {
	placetest();

	document.getElementById("world").innerHTML = "";
	for (var i = 0; i < world.length; i++) {
		worldupdate = "<li>" + world[i] + "</li>";
		document.getElementById("world").innerHTML += worldupdate;
	}

	$('#world li:nth-of-type(9)')
	.css({
		"opacity" : "0",
	});
}

function placetest() {
	if (world[8] == "#" && position == 5) {
		$('#event').html('The sign reads: "Welcome to the Island."');
	}
	else if (position == 0) {
		$('#event').html("It's just water over there...");
	}
	else if (position == 200) {
		$('#event').html("Looks like the other side of the island...");
	}
	else {
		$('#event').html("...");
	}

	//position and biomes

	if (position >= 0 && position < 16) {
		$('#biome').html("Beginners Bay");
	}
	else if (position >= 16) {
		$('#biome').html("The Island");
	}
	else {
		$('#biome').html("?");
	}
}

function debug() {
	console.log(leftworld);
	console.log(world);
	console.log(rightworld);
}


//--------------------------------------------------
//--------------------------------------------------
//------------------- lorebook ---------------------
//--------------------------------------------------
//--------------------------------------------------



function flash() {
	$('#log').addClass("flash");
	setTimeout(function(){$('#log').removeClass("flash");},900);
}

var entryarray = [
'baron',
'deathray',
'reginald',
'newestyork'
];

function newlore() {
	if (entryarray.length != 0) {
		var entry = entryarray[Math.floor(Math.random() * entryarray.length)];
		$('#' + entry).addClass('unseen').show(300);
		var index = entryarray.indexOf(entry);
		entryarray.splice(index, 1);

		$('#log').html("Another page is added to the lorebook!");
		flash();
	}
	else {
		$('#log').html("Theres no more lore!");
		flash();
	}
}

//--------------------------------------------------
//--------------------------------------------------
//--------------------- mine -----------------------
//--------------------------------------------------
//--------------------------------------------------

var mine = ['','','','','','','','',''];

window.onload = function() {
	updatemine();

	//autospawn enemies

	/*var newenemy = setInterval(function() {
		if (Math.random() * 100 <= 5) {
			spawnenemy();
		}
	}, 1000);*/

	$("#mine").on('click', 'li', function () {
		var index = $("#mine li").index(this);
		mine.splice(index, 1, '');
		updatemine();
			if (this.innerHTML == '2 gold') {
				gold += 2;
				$('#gold').html(gold);
			}
			if (this.innerHTML == '3 gold') {
				gold += 3;
				$('#gold').html(gold);
			}
			if (this.innerHTML == 'new lore') {
				newlore();
			}
			if (this.innerHTML == 'lockbox') {
				newlockbox();
			}
		$(this).remove();
	});
}

var actions = [];

function newlockbox() {
	spawntask();
}

function spawntask() {
	if (actions.length <= 9) {

		var array = ['LootBox', 'GoldBox'];
		var chosen = array[Math.floor(Math.random() * array.length)];

		if (chosen == "LootBox") {
			actions.push({
				"name": "LootBox",
				"hp": 25,
				"type": "lootbox"
			});
		}
		else if (chosen == "GoldBox") {
			actions.push({
				"name": "GoldBox",
				"hp": 25,
				"type": "goldbox"
			});
		}
		updatetasks();

	}
}

function updatetasks() {

	for (var i = 0; i < actions.length; i++) {
		if (actions[i].hp <= 0 || actions[i].name == "") {
			actions.splice(i, 1, {
				"name": "",
				"hp": "<button onclick='finish(" + i + ")'>Open</button>",
				"type": actions[i].type
			});
		}
	}

	$("#events").html("");
	var i;
	for (var i = 0; i < actions.length; i++) {
		$("#events").append(
			"<div onclick='doaction(" + i + ")'><span class='delmark' onclick='delmark(" + i + ")'>&#x00D7;</span>" + actions[i].name + "<br>" + actions[i].hp + "</div>"
		);
	}
}

function delmark(i) {
	actions.splice(i, 1);
	updatetasks();
}

function doaction(i) {
	if (actions[i] != undefined) {
		if (actions[i].name != "") {
			actions[i].hp -= 5;
			updatetasks();
		}
	}
}

function finish(i) {
	if (actions[i].type == "lootbox") {
		if (Math.random() * 100 <= 50) {
			newitem();
		}
		else {
			newlore();
		}
		
	}
	else if (actions[i].type == "goldbox") {
		var array = [1, 2, 3, 4, 5];
		var count = array[Math.floor(Math.random() * array.length)];
		gold += count;
		$('#gold').html(gold);

		$('#log').html("You open the box and find " + count + " gold.");
		flash();
	}
	actions.splice(i, 1);
	updatetasks();
}


function sendcart() {
	document.getElementById("sendcart").disabled = true;

    var elem = document.getElementById("myBar");
    var width = 100;
    var id = setInterval(frame, 50);
    function frame() {
        if (width <= 0) {
            clearInterval(id);
        } else {
            width--;
            elem.style.width = width + '%';
        }
    }

	setTimeout(function() {
		document.getElementById("sendcart").disabled = false;

		clearInterval(id);
		width = 100;
		elem.style.width = width + '%';

		var array = [1, 2, 3];
		var number = array[Math.floor(Math.random() * array.length)];
		for (var i = 0; i < number; i++) {
			newore();
		}

		$('#log').html("The cart comes back, bearing gifts.");
		flash();
	}, 5000);
}

function newore() {
	var position = [0, 1, 2, 3, 4, 5, 6, 7, 8];
	var point = position[Math.floor(Math.random() * position.length)];

	var orearray = ['2 gold', '3 gold', 'new lore', 'lockbox'];
	var ore = orearray[Math.floor(Math.random() * orearray.length)];

	if (mine[point] == "") {
		mine.splice(point, 1, ore);
		updatemine();
	}
	else {
		newore();
	}
}

function updatemine() {
	document.getElementById("mine").innerHTML = "";
	for (var i = 0; i < mine.length; i++) {
		mineupdate = "<li>" + mine[i] + "</li>";
		document.getElementById("mine").innerHTML += mineupdate;

		if (mine[i].length != 0) {
			$('#mine li:nth-child(' + (i + 1) + ')').addClass('collect');
		}
		$("#mine li:contains('new lore')").css({
			"background-color" : "#fefde7"
		});
		$("#mine li:contains('lockbox')").css({
			"background-color" : "#fefde7"
		});
	}
}

//--------------------------------------------------
//--------------------------------------------------
//-------------------- battle ----------------------
//--------------------------------------------------
//--------------------------------------------------

var enemies = [];

var gold = 0;

function spawnenemy() {
	if (enemies.length <= 8) {
		var array = ['dog', 'hobo', 'oldlady', 'civilian', 'cat'];
		var chosen = array[Math.floor(Math.random() * array.length)];

		if (chosen == "dog") {
			enemies.push({
				"name": "a rabid dog",
				"hp": 30
			});
		}
		else if (chosen == "hobo") {
			enemies.push({
				"name": "a dagger-weilding hobo",
				"hp": 40
			});
		}
		else if (chosen == "oldlady") {
			enemies.push({
				"name": "a scary old lady",
				"hp": 20
			});
		}
		else if (chosen == "civilian") {
			enemies.push({
				"name": "a suspicious-looking civilian",
				"hp": 20
			});
		}
		else if (chosen == "cat") {
			enemies.push({
				"name": "a hissing cat",
				"hp": 15
			});
		}
		update();

		$('#log').html("Another enemy spawns!");
		flash();
	}
}

function update() {

	for (var i = 0; i < enemies.length; i++) {
		if (enemies[i].hp <= 0 || enemies[i].name == "") {
			enemies.splice(i, 1, {
				"name": "",
				"hp": "<button onclick='loot(" + i + ")'>Loot</button>",
				"type": enemies[i].type
			});
		}
	}

	$("#battle").html("");
	for (var i = 0; i < enemies.length; i++) {
		$("#battle").append(
			"<div class='enemy' onclick='attackenemy(" + i + ")'>" + enemies[i].name + "<br>" + enemies[i].hp + "</div>"
		);
	}
}

function attackenemy(i) {
	if (enemies[i] != undefined) {
		if (enemies[i].name != "") {
			enemies[i].hp -= 5;
			update();
		}
	}
}

function loot(i) {
	if (Math.random() * 100 <= 50) {
		newitem();
	}
	else {
		var array = [1, 2, 3, 4, 5];
		var count = array[Math.floor(Math.random() * array.length)];
		gold += count;
		$('#gold').html(gold);

		$('#log').html("You loot " + count + " gold from the enemy.");
		flash();
	}

	enemies.splice(i, 1);
	update();
}

function carttab() {
	$('.tab').hide();
	$('#tabmenu li a').removeClass('active');

	$('#carttab').show();
	$('#ct').addClass('active');
}

function battletab() {
	$('.tab').hide();
	$('#tabmenu li a').removeClass('active');

	$('#battletab').show();
	$('#bt').addClass('active');
}

function loretab() {
	$('.tab').hide();
	$('#tabmenu li a').removeClass('active');

	$('#loretab').show();
	$('#lt').addClass('active');
}

function togglehelp() {
	$('#help').toggle(300);
}

</script>
</head>
<body>

<div class="container">
	<div class="sidecol">
		<div class="sidebarbox">
			<div>Gold: <span id="gold">0</span></div>
			<div>Leaves: <span id="leaves">0</span></div>
		</div>

		<div class="sidebarbox" id="people">
			<i class="fa fa-user-o" aria-hidden="true"></i> <span id="population">1</span>
			<hr>
			<div id="gatherer__cover">
				Gatherers: <span id="gatherers">0</span>
				<span class="click upclick">⌃</span><span class="click downclick">⌄</span>
			</div>
		</div>

		<button onclick="eatleaves()">Eat Leaves</button>
	</div>
	<div class="maincol">
		<div class="header">
			<div id="log">Nothing much.</div>
				<div style="float: right; margin: 0 4px;"><a href="#" onclick="newore()">+o</a></div>
				<div style="float: right; margin: 0 4px;"><a href="#" onclick="spawnenemy()">+e</a></div>
				<div style="float: right; margin: 0 4px;"><a href="#" onclick="newlore()">+l</a></div>
				<div style="float: right; margin: 0 4px;"><a href="#" onclick="newitem()">+i</a></div>
		</div>

		<ul id="tabmenu">
			<li><a id="ct" class="active" onclick="carttab()">Look</a></li>
			<li><a id="bt" onclick="battletab()">World</a></li>
			<li><a id="lt" onclick="loretab()">Lore</a></li>
		</ul>

		<div class="tab" id="carttab" style="height: 80%;">
			<div class="left" style="height: 100%;">
				<div class="upper">
					<ul id="items"></ul>
				</div>
				<div class="lower">
					<div id="events"></div>
				</div>
			</div>
			<div class="right">
				<div class="left cartleft">
					<button id="sendcart" onclick="sendcart()">Look around.</button>
				</div>
				<div class="right cartright">
					<ul id="mine"></ul>
					<div id="myProgress">
						<div id="myBar"></div>
					</div>
				</div>
			</div>
		</div>

		<div class="tab" id="battletab">
			<div id="battle"></div>

			<div style="position: relative;">
				<ul id="world"></ul>
				<div id="you">@</div>
				<div style="width: 350px; margin: 0 auto;">
					<button style="float: left;" id="walkleft" onclick="walkleft()">Walk left.</button>
					<button style="float: right;" id="walkright" onclick="walkright()">Walk right.</button>
				</div>
				<div id="event">...</div>
				<div style="text-align: center;"><span id="position">7</span>m (<span id="biome">Starter Plains</span>)</div>
			</div>
		</div>

		<div class="tab" id="loretab">
			<h2 class="title">Lorebook</h2>
			<ul id="lorebook">

<!-- begin logbook -->

<li>
	<h2><i class="fa fa-bullhorn" aria-hidden="true"></i> 14th May 100,000BC</h2>
	<div>
		The lorebook is created. Dozens rejoice.
	</div>
</li>
<li>
	<h2><i class="fa fa-bookmark" aria-hidden="true"></i> Sissy Conface: The Story so Far</h2>
	<div>
		Dear Diary,
		<div style="border: 0; margin: 0;"></div>
		Today was like, totally amazing.
		<br>
		I was walking down the hallway past Brent Trentson... and he WAVED AT ME!! It was, like, the most dreamy thing ever. BUT just as I was about to give him one of my flirtiest looks of disdain he walked right by me to his friend who was, like, so inconsiderately standing behind me.
		<div style="border: 0; margin: 0;"></div>
		Anyway, after that I was magically transported onto a deserted island with only the bottle of Fiji water in my backpack and a weird desire to eat leaves. Boring.
		<div style="border: 0; margin: 0;"></div>
		Whatever, though. It gives me tons of time to work on my diary. I'm thinking of drawing a full page picture of Brent using, like, tree sap. Or maybe dirt! He's soo manly.
		<div style="border: 0; margin: 0;"></div>
		Thats it for today, Diary. Thanks for, like, listening.
		<div style="border: 0; margin: 0;"></div>
		xoxo,
		<br>
		Sissy Conface
	</div>
</li>
<li id="baron" class="lorepage">
	<h2><i class="fa fa-user" aria-hidden="true"></i> Baron Trump</h2>
	<div>
		The last President of the United States and first person to practice bigamy in the White House, Baron Trump's distinct lack of energy and enthusiam stuck a chord with many American voters.
		<div></div>
		Baron's running mate, Jerry "Fast Leg" Feetenson, holds the record for most Olympic-level races won in the universe. However, most of these were wheelchair events.
	</div>
</li>
<li id="deathray" class="lorepage">
	<h2><i class="fa fa-user" aria-hidden="true"></i> Deathray Trump</h2>
	<div>
		Deathray Trump <span class="lead">[full name redacted]</span> was the first ever President of the Universe. His unconventional policies and philosohpical views have been considered by historians to be "not a product of his time, or hertiage. He's just an asshole. Can you edit that out? (Conrad Conface, deceased)".
		<div></div>
		Deathray's outlawing of PC culture was undoubtedly the high point of his career, the next being his infamous "Hitler? I hardly know her" speech.
		<div></div>
		His possible collusion with the NUSSR (new-es-es-ar) hindered his presidential success only slightly, having been disproven suddenly and irrefutably after the death of popular anti-deathray journalist Conrad Conface. Interestingly, his use of finger guns and winking whenever the topic of his collusion is discussed has been writted off by his team of PR managers as "a harmless, nervous tic".
	</div>
</li>
<li id="reginald" class="lorepage">
	<h2><i class="fa fa-user" aria-hidden="true"></i> Reginald Trump <span class="lead">a.k.a. Real Raygun Reggie</span></h2>
	<div>
		Reginald Trump, son of the notorious Deathray Trump, was the 2nd President of the Universe. Born into an age of political correctness, where all politicians were always correct, he was the first president to denounce the original 1969 moon landing.
		<div></div>
		Reginald's success has been widely attributed to his ability to talk to snakes, a unique talent that allowed him to secure the serpentine vote.
		<div></div>
		A record number of 9,000 people and 2 billion life-sized dummies attended his inaguration, making him the self-proclaimed "best talker in the world".
		<div></div>
		A highlight of Reginald's career was his inspirational speeches, one of which regarded the Big Spider War. He assured audiences the record high death toll was "Obama's fault, completely Obamas." His vice president at the time, Spikey Obama, resigned three days later.
	</div>
</li>
<li id="newestyork" class="lorepage">
	<h2><i class="fa fa-map-marker" aria-hidden="true"></i> Newest York</h2>
	<div>
		Newest York is a small suburb in Erie, Pennsylvania.
	</div>
</li>

<!-- end logbook -->

			</ul>

			<div style="margin: 50px;"></div>

			<button onclick="togglehelp()">Help/Guide</button>
			<div id="help">
				<ol>
					<li><b>Look.</b></li>
					Press the 'look around' button to collect resources.
					<li><b>World.</b></li>
					Press the buttons to move left and right and traverse the world. Sometimes, you will meet an enemy who you can confront to gain resources.
					<li><b>Lore.</b></li>
					The lorebook is a list of lorepages you collect. Over time, more details about the world will be revealed.
					<li><b>People.</b></li>
					The sidebar has a list of the current population. You can assign them to complete certain tasks.
				</ol>
				<i>The links at the top right of the page are developer tools (use them and you're cheating!).</i>
			</div>
			<br>
			<br>
		</div>
	</div>
</div>

</body>

<style type="text/css">
@import url('https://fonts.googleapis.com/css?family=Inconsolata|Nunito');

.click {
	background-color: #eee;
	padding: 1px 3px;
	margin: 0 3px;
	font-size: 1.2em;
	font-weight: bold;
	cursor: pointer;
}

.click:hover {
	background-color: #ddd;
}

#people {
	user-select: none;
}

.sidebarbox {
	border: 1px solid #ccc;
	padding: 10px;
	margin-bottom: 10px;
	text-align: center;
}

.sidebarbox hr {
	height: 1px;
	background-color: #ccc;
	border: 0;
}

.upper {
	height: 50%;
}

.lower {
	height: 50px;
}

#events div {
	position: relative;
	display: inline-block;
	height: 100px;
	width: 100px;
	line-height: 25px;
	text-align: center;
	border: 1px solid #222;
	margin: 5px;
	cursor: pointer;
	user-select: none;
	overflow: hidden;
	display:inline-flex;
	justify-content:center;
	align-items:center;
	vertical-align: top;
}

.delmark {
	position: absolute;
	top: -5px;
	right: 5px;
}

.delmark:hover {
	color: red;
}

#help {
	display: none;
}

#items {
	list-style-type: none;
	padding: 0;
	margin: 0;
}

#items li {
	display: inline-block;
	padding: 5px 10px;
	border-radius: 5px;
	border: 1px solid #ccc;
	background-color: white;
	margin: 5px;
	cursor: default;
}

#items li:hover {
	background-color: #f8f8f8;
}

.sidecol {
	text-align: center;
	position: relative;
}

.info {
	position: absolute;
	padding: 5px 10px;
	width: 150px;
	border-radius: 5px;
	border: 1px solid #ccc;
	box-shadow: 0px 2px 4px #eee;
	margin-left: -11px;
	margin-top: 10px;
	background-color: #fefde7;
	display: none;
}

li:hover .info {
	display: inline-block;
}

#battletab,
#loretab {
	display: none;
}

.title {
	margin: 0 0 5px 0;
	font-weight: normal;
}

.lorepage {
	padding: 5px;
	border-radius: 5px;
}

.unseen h2 {
	background-color: #fbf8b2;
}

.unseen {
	background-color: #fefde7;
}

.lead {
	font-size: 0.8em;
	color: #999;
}

#lorebook {
	list-style-type: none;
	width: 50%;
}

#lorebook li div {
	margin: 5px 5px 5px 20px;
	padding: 5px 5px 5px 10px;
	border-left: 2px solid #ccc;
	color: #444;
}

#lorebook h2 {
	margin: 0;
	font-size: 18px;
}

body, button {
	font-family: 'Nunito', sans-serif;
	font-size: 14px;
}

* {
	box-sizing: border-box;
}

body {
	font-size: 16px;
	margin: 0;
	height: 100vh;
	height: 100vh;
}

.sidecol,
.leftcol {
	padding: 10px;
}

.container {
	height: 100%;
	margin: 0 10px;
}

.sidecol {
	height: 100%;
	width: 15%;
	float: left;
}

.maincol {
	height: 100%;
	width: 85%;
	float: right;
}

.header {
	height: 50px;
	line-height: 50px;
}

#log {
	height: 100%;
	padding: 0 10px;
}

button {
	border: 1px solid #999;
	background: white;
	padding: 5px 10px;
	cursor: pointer;
}

button:hover {
	background-color: #f4f4f4;
}

button:disabled {
	cursor: default;
	background-color: #eee;
}

.enemy {
	font-size: 0.9em;
	display: inline-block;
	background-color: white;
	height: 100px;
	width: 100px;
	line-height: 25px;
	text-align: center;
	border: 1px solid #999;
	margin: 0 5px;
	cursor: pointer;
	user-select: none;
	overflow: hidden;
	display:inline-flex;
	justify-content:center;
	align-items:center;
	vertical-align: top;
}

#battle {
	padding: 10px 0;
	min-height: 120px;
	background-color: #f4f4f4;
	text-align: center;
}

#tabmenu {
	margin: 10px 0;
	padding: 4px;
	border-bottom: 1px solid #ccc;
	cursor: default;
}

#tabmenu li {
	display: inline-block;
	margin: 0;
}

#tabmenu li a {
	border: 1px solid #ccc;
	border-radius: 4px 4px 0 0;
	border-bottom: 0;
	padding: 5px 15px;
}

#tabmenu li a:hover {
	background-color: #f4f4f4;
}

.active {
	background-color: #ddd!important;
}

#mine {
	display: block;
	height: 250px;
	width: 250px;
	cursor: default;
	list-style-type: none;
	padding: 10px;
	font-size: 0;
	text-align: center;
	background: #eee;
}

#mine li {
	font-size: 16px;
	text-align: center;
	margin: 3px;
	padding: 0;
	display: inline-block;
	height: 70px;
	width: 70px;
	line-height: 70px;
	background-color: white;
	border: 1px solid #999;
	overflow: hidden;
}

#myProgress {
	margin: 5px 0;
	width: 250px;
	background-color: #eee;
}

#myBar {
	width: 100%;
	height: 8px;
	background-color: #aaa;
}

.left {
	width: 50%;
	float: left;
}

.right {
	width: 50%;
	float: right;
}

.collect {
	cursor: pointer;
}

.flash {
	-moz-animation: flash 1s ease-out;
	-moz-animation-iteration-count: 1;

	-webkit-animation: flash 1s ease-out;
	-webkit-animation-iteration-count: 1;

	-ms-animation: flash 1s ease-out;
	-ms-animation-iteration-count: 1;
}

@keyframes flash {
	0% { background-color: transparent; }
	50% { background-color: #fbf8b2; }
	100% { background-color: transparent; }
}

@-webkit-keyframes flash {
	0% { background-color: transparent; }
	50% { background-color: #fbf8b2; }
	100% { background-color: transparent; }
}

@-moz-keyframes flash {
	0% { background-color: transparent; }
	50% { background-color: #fbf8b2; }
	100% { background-color: transparent; }
}

@-ms-keyframes flash {
	0% { background-color: transparent; }
	50% { background-color: #fbf8b2; }
	100% { background-color: transparent; }
}


#world {
	font-family: 'Inconsolata', monospace;
	font-size: 30px;
	height: 30px;
	line-height: 30px;
	list-style-type: none;
	display: block;
	width: 450px;
	margin: 10px auto;
	background-color: #fefde7;
	overflow: hidden;
	text-align: center;
}

#world li {
	display: inline;
	margin: 2px;
}

#you {
	font-family: 'Inconsolata', monospace;
	font-size: 30px;
	color: coral;
	position: absolute;
	top: 0;
	width: 100%;
	padding-left: 40px;
	text-align: center;
}

#event {
	clear: both;
	margin-top: 50px;
	text-align: center;
}

@media screen and (max-width: 1000px) {
	.maincol, .sidecol {
		width: 100%;
	}
	.sidecol {
		height: auto;
		min-height: 10%;
	}
	#lorebook {
		width: 100%;
	}
	.cartleft, .cartright {
		width: 100%;
		padding-bottom: 20px;
	}
}
</style>
</html>
