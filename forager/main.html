<!DOCTYPE html>
<html>
<head>
	<!-- Forager, a game by KudosInc -->

	<title>Forager</title>
	<!-- jQuery -->
	<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>

	<!-- fontawesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>
<body onload="loadGame()">

<div class="tabmenu__cover">
	<ul id="tabmenu">
		<li><a id="ct" class="active" onclick="carttab()">Look</a></li>
		<li><a id="bt" onclick="battletab()">World</a></li>
		<li><a id="lt" onclick="loretab()">Player</a></li>
	</ul>
</div>

<div class="rightcol">
	<button class="accordion">Use</button>
	<div class="panel">
		<span id="use"></span>
	</div>

	<button class="accordion">Craft</button>
	<div class="panel">
		<span id="craft"></span>
	</div>

	<button class="accordion">Misc</button>
	<div class="panel">
		<span id="misc"></span>
	</div>
</div>

	<div class="sidecol">
		<div class="topbox">
			<div class="displaybox">
				<div>Health:</div>
				<div class="bar">
					<div id="healthBar" class="inner">
						<span id="playerHealth">0</span> <i class="fa fa-heart" aria-hidden="true"></i>
					</div>
				</div>
				<div>Thirst:</div>
				<div class="bar">
					<div id="thirstBar" class="inner">
						<span id="playerThirst">0</span> <i class="fa fa-tint" aria-hidden="true"></i>
					</div>
				</div>
				<div>Energy:</div>
				<div class="bar">
					<div id="energyBar" class="inner">
						<span id="playerEnergy">0</span> <i class="fa fa-low-vision" aria-hidden="true"></i>
					</div>
				</div>
			</div>
		</div>

		<div id="log__cover">
			<div id="log__fader"></div>
			<ul id="log">
				<li>The forest beckons.</li>
			</ul>
			<div style="position: absolute; bottom: 0; left: 3px; padding: 3px; z-index: 2;">
				<button class="toggle-btn" onclick="saveGame()" id="save">Save</button>
				<button class="toggle-btn" onclick="delGame()" id="reset">Reset</button>
				<button class="toggle-btn" onclick="info()">Info/FAQ</button>
			</div>
		</div>
	</div>

<div class="container">
	<div class="maincol">
		<div class="tab" id="carttab">
			<div class="left" style="height: 70%;">
					<h2 class="title">Forage</h2>
					<button id="sendcart" onclick="sendcart()">Look around. <i class="fa fa-tree" aria-hidden="true"></i></button>
					<ul id="mine"></ul>
					<div id="myProgress">
						<div id="myBar"></div>
					</div>
					<button id="dropall" onclick="dropall()">Discard all. <i class="fa fa-ban" aria-hidden="true"></i></button>
					<!-- <div>
						<a href="#" onclick="newore()">addItem</a>
						<br>
						<a href="#" onclick="plantlevel2()">herbologyLvl2</a>
					</div> -->

					<br>
					<br>
					<div class="grey marginb">Click the 'look around' button to forage for materials.<br>Check the info button for more information.</div>
			</div>

			<div class="right" style="height: 70%; position: relative;">
					<h2 class="title" style="margin-bottom: 0;">Inventory</h2>
					<div class="grey">Carry weight: <span id="playerWeight">0</span>/<span id="playerTotalWeight">0</span></div>
					<div id="items"></div>
					<div style="position: absolute; top: 0; left: 0; margin: 5px;">
						<button class="toggle-btn" onclick="stacktoggle()">Toggle Stacks</button>
					</div>
			</div>

				<div class="lower" id="base__cover" style="height: 30%;">
					<div id="skillscover" class="displaybox">
						<div class="marginb">
							<b>Herbology Skill</b>
							<div>
								Level: <span id="plantlvl">0</span>
								<span class="grey">
									(<span id="plantxp">0</span>/<span id="nextlvlplant">100</span>)
								</span>
							</div>
						</div>

						<div class="marginb">
							<b>Crafting Skill</b>
							<div>Level: <span id="craftlvl">0</span>
								<span class="grey">
									(<span id="craftxp">0</span>/<span id="nextlvlcraft">100</span>)
								</span>
							</div>
						</div>

						<div class="marginb">
							<b>Fighting Skill</b>
							<div>Level: <span id="fightlvl">0</span>
								<span class="grey">
									(<span id="fightxp">0</span>/<span id="nextlvlfight">100</span>)
							</span>
							</div>
						</div>
					</div>

					<div id="base"></div>
				</div>
		</div>

		<div class="tab" id="battletab">
			<div class="left">
				<h2 class="title" style="margin-bottom: 0;">Exploration</h2>
				<div class="grey" style="margin-bottom: 10px;">Tip: There are bears in the forest. Stock up on supplies before embarking.</div>
				
				<div>
					<button id="forwards" onclick="forwards()">Venture into the forest. <i class="fa fa-arrow-up" aria-hidden="true"></i></button>
				</div>
				<div id="walkProgress">
					<div id="walkBar"></div>
				</div>

				<div class="marginb">
					<b>Current position:</b>
					<br>
					You are <span id="distance">0</span>km into the forest.
				</div>

				<div class="marginb">
					<b>Weapon:</b>
					<br>
					<span class="weapon">none.</span>
				</div>

				<div style="margin: 20px;"><hr></div>

				<div class="marginb"></div>

				<div class="world">
					<ul class="menu">
						<li><a id="d_t" class="menu_tab" onclick="switchTab('.disc_tab', '#d_t')">Discoveries</a></li>
						<li><a id="m_t" class="menu_active menu_tab" onclick="switchTab('.map_tab', '#m_t')">Map</a></li>
					</ul>

					<div class="disc_tab worldpage">
						<b>Discoveries:</b>
						<div class='grey'>These are the places you have discovered. Click on them to fast travel to their location.</div>

						<div id="theCliff" class="place">
							<div><b>The Cliff</b></div>
							<div><i>The forest's beginnings.</i></div>
							<div>Location: 0km</div>
						</div>

						<div id="theClearing" class="place hidden">
							<div><b>The Clearing</b></div>
							<div><i>Animals roam free.</i></div>
							<div>Location: 10km</div>
						</div>

						<div id="theWaterhole" class="place hidden">
							<div><b>The Waterhole</b></div>
							<div><i>A bountiful fishing spot.</i></div>
							<div>Location: 20km</div>
						</div>

						<div id="theVillage" class="place hidden">
							<div><b>The Village</b></div>
							<div><i>Civilisation: The end of your journey.</i></div>
							<div>Location: 30km</div>
						</div>
					</div>

					<div class="map_tab worldpage">
						<div id="map"></div>

						<div class="marginb"></div>

						<div class="grey">sectors complete: <span id="complete">1</span></div>
					</div>
				</div>
			</div>

			<div class="right">
				<h2 class="title">Events</h2>

<!-- Begin Events -->

<div id="theForest__event" class="event">
	<h2 class="title">The Forest</h2>

	<div class="marginb">The smoldering wreckage of your plane lies to your left, teetering on the edge of the cliff. It would be unwise to try and go back inside the craft.</div>

	<div class="marginb">In front of you lies a dense forest.</div>

	<div class="grey marginb">Keep walking forward into the forest to discover new places.</div>
</div>

<div id="theCliff__event" class="event">
	<h2 class="title">The Cliff</h2>

	<div class="marginb">The smoldering wreckage of your plane lies to your left, teetering on the edge of the cliff. It would be unwise to try and go back inside the craft.</div>

	<div class="marginb">In front of you lies a dense forest.</div>

	<div class="grey marginb">Keep walking forward into the forest to discover new places.</div>
</div>

<div id="theClearing__event" class="event">
	<h2 class="title">The Clearing</h2>

	<div class="marginb">You come across a patch of the forest which seems more... alive. You can see small animals darting around the treetops, and rustling bushes in your peripheral vision. Perhaps this would be a good spot to hunt.</div>

	<div class="grey marginb">Click the button below to hunt for animals, instead of encountering them randomly.</div>

	<div class="marginb">
		<button id="hunt" onclick="hunt()">Hunt for animals.</button>
	</div>
</div>

<div id="theWaterhole__event" class="event">
	<h2 class="title">The Waterhole</h2>

	<div class="marginb">In front of you is a waterhole, brimming with fish that make ripples as they dart around. Standing under a shady tree, you can finally rest... or go fishing!</div>

	<div class="marginb"><i>The waterhole, and all events after it, are works in progress. There are currently no new mechanics to be discovered further into the forest, sorry. The final 'place' is the village, which is located 30km into the forest.</i></div>
</div>

<div id="theVillage__event" class="event">
	<h2 class="title">The Village</h2>

	<div class="marginb">You can hardly belive your eyes as you enter the small village. After all this time, the luxury of society is once again graced upon you. But something's not right.</div>

	<div class="marginb">All the foraging... the animals... the warm mornings spent fishing by a vivid lake.</div>

	<div class="marginb">The forest's siren song calls you, louder with each passing step.</div>

	<div class="marginb">Could you leave the forest? Can you?</div>

	<div class="marginb">
		<button onclick="leaveForest()">Leave the forest forever.</button>
	</div>
</div>

<!-- End Events -->

			</div>
		</div>

		<div class="tab" id="loretab">
			<div class="left">
				<div class="marginb">
					<b><span class="playername">name</span></b>
					<span class="edit_icon" onclick="changename()" title="Edit name.">
						<i class="fa fa-pencil" aria-hidden="true"></i>
					</span>,
					<span class="playertitle">title</span>.
				</div>
				<hr>
				Runes:
				<br>
				WIP
			</div>
			<div class="right">
			</div>
		</div>
	</div>
</div>

<div class="modal_bg hide">
	<div id="battle" class="event_modal">
		<h3 class="title battle_header">An Enemy Appears</h3>
		<div id="enemy">
			<b><div id="e_name">Nothing.</div></b>
			<div id="e_desc">The lack of something.</div>

			<div class="bar" style="width: 90%; margin: 10px auto;">
				<div id="enemyHealthBar" class="inner">
					<span id="enemyHealth">100</span>
				</div>
			</div>

			<div style="text-align: center;">
				<button class="btn-sm marginb" id="attack" onclick="attack()">Attack.</button>
			</div>

			<button class="toggle-btn marginb" id="bait" onclick="bait()">Bait.</button>
				<div class="info">
					Baiting the enemy increases flee chance.
					<br>
					Costs 1 blue berries.
				</div>
			<button class="toggle-btn marginb" id="flee" onclick="flee()">Flee. (<span id="fleechance">0</span>% chance)</button>
		</div>
	</div>

			<div id="info" class="event_modal">
				<span class="delmark" onclick="closeinfo()" style="font-size: 1.5em; margin: 0 5px;">&#x00D7;</span>

				<h2 class="title">Forager</h2>
				
				Forager is a project I undertook to try and learn Javascript and make an incremental game. It also uses the popular JS library jQuery.

				<div style="margin: 50px;"><hr></div>

				<b>Some simple tips/a guide:</b>

				<ol>
					<li>Use the 'look around' button to forage for some supplies.</li>
					<li>Click these supplies to add them to your inventory. Once an item is in your inventory, different actions are unlocked in the right-hand panel as you can combine items, use them, or leave them.</li>
					<li>As you complete tasks, your skill in that respective task increases.</li>
					<li><b>Keep foraging and you gain the ability to find different types of items.</b> There are currently 20 obtainable items.</li>
					<li>Your inventory stores items which can be manipulated, and the lower section contains static items.</li>
					<li>In the 'world' tab you can walk in a linear direction to discover new places with unique mechanics.</li>
				</ol>

				<div style="margin: 50px;"><hr></div>

				<b>Important thing to note:</b>

				<div class="marginb"></div>

				This is an unfinished game. Currently there is no prestige mechanic, althought it possible to "beat" the game. I've tried to engineer the code in such a way that it would be faily easy to add new content -- but the game as it stands is just a slightly elevated proof of concept of the mechanics involved.

				<div class="marginb"></div>

				Feel free to message me on reddit, my username is /u/KudosInc.

				<div class="marginb"></div>

				Thanks for playing!

				<div style="margin: 50px;"><hr></div>

				<h2 class="title">Changelog</h2>

				<button class="btn-sm" onclick="changelog()">View</button>

				<div id="changelog">
					<ul>
						<li><b>version 1.4</b></li>
						<ul>
							<li>
								Separated the actions into sections according to their use.
							</li>
						</ul>
						<li><b>version 1.3</b></li>
						<ul>
							<li>
								Improved/polished mechanics introduced in the last update.
							</li>
							<li>
								Rearraged the info tab, added the player tab.
							</li>
						</ul>
						<li><b>version 1.2</b></li>
						<ul>
							<li>
								Added random enemy spawns in the forest instead of a specific hunting area. Comes with a cool modal effect.
							</li>
							<li>
								Added a toggle button to choose between stacking item visuals.
							</li>
						</ul>
						<li><b>version 1.1.1</b></li>
						<ul>
							<li>
								Fixed a bug in which place names weren't hidden.
							</li>
							<li>
								Added changelog.
							</li>
						</ul>
						<li><b>version 1.1</b></li>
						<ul>
							<li>
								Added more colour, a map and item stacking. This release incorporated some of the feedback I got from reddit, thanks!
							</li>
						</ul>
						<li><b>version 1</b></li>
						<ul>
							<li>
								First release, as a prototype on /r/incremental_games. (August 2018)
							</li>
						</ul>
					</ul>
				</div>
			</div>
</div>

<script type="text/javascript" src="foragerJS.js"></script>
<link type="text/css" rel="stylesheet" href="foragerCSS.css">
</body>
</html>